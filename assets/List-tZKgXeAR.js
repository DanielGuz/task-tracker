import{u as C,T,a as k,b as w,c as V,l as D}from"./DataTable-CboVXuwy.js";import{T as P}from"./Button-Bre3B7el.js";import{d as F,T as _,_ as $,r as s,o as u,c as U,a,w as l,b as r,e as b,f as y,g as h}from"./index-C2nEU7Iq.js";import"./DataServiceApi-NXsU4w8H.js";const B=[{field:"id",label:"Id"},{field:"title",label:"Título",sortable:!0},{field:"description",label:"Descripción",sortable:!0},{date:!0,field:"created_at",label:"Creado el",sortable:!0},{date:!0,field:"updated_at",label:"Modificado el",sortable:!0},{field:"status",label:"Estado",sortable:!0},{field:"priority",label:"Prioridad",sortable:!0},{field:"assigned_to",label:"Asignado a",sortable:!0}],E=F({name:"tt-ui-list",setup(){return{dataTable:C()}},data(){return{id:null,status:[],modules:[],isFetching:!1,idRowProperty:"id",routeBaseName:"track.tasks",descriptionRowProperty:"id",fetchPayload:{withParams:!0,url:""},actionbuttons:[{event:"view",label:"Visualizar",disabled:!1},{event:"edit",label:"Editar",disabled:!1},{separator:!0,disabled:!1},{event:"delete",label:"Eliminar",disabled:!1}]}},components:{TtUiDataTable:T,TtUiFiltersTabs:k,TtUiDivider:w,TtUiHeaderBar:_,TtUiButton:P,TtUiDrawer:V},mixins:[D],mounted(){this.updatePaginationData({...this.pagination,sortfield:"id",page:1}),this.fetchData(this.fetchPayload),this.updateColumnsTable(B)}}),L={class:"is-flex is-align-items-center"},N={class:"p-5 mb-6"};function A(e,t,R,S,I,z){const n=s("b-input"),d=s("b-field"),i=s("tt-ui-button"),f=s("tt-ui-drawer"),m=s("b-tooltip"),p=s("tt-ui-divider"),c=s("tt-ui-header-bar"),g=s("tt-ui-filters-tabs"),v=s("tt-ui-data-table");return u(),U("section",null,[a(f,{size:"small",modelValue:e.showFilters,title:"Filtrar resultados"},{body:l(()=>[a(d,{label:"ID Usuario"},{default:l(()=>[a(n,{modelValue:e.filters.id_usuario,"onUpdate:modelValue":t[0]||(t[0]=o=>e.updateFiltersAndLabelTab({field:"id_usuario",value:o},"ID"))},null,8,["modelValue"])]),_:1}),a(d,{label:"Usuario"},{default:l(()=>[a(n,{modelValue:e.filters.usuario,"onUpdate:modelValue":t[1]||(t[1]=o=>e.updateFiltersAndLabelTab({field:"usuario",value:o},"Usuario"))},null,8,["modelValue"])]),_:1})]),"footer-right":l(()=>[a(i,{onClick:t[2]||(t[2]=o=>e.toggleFilters(!1))},{default:l(()=>[r("Cancelar")]),_:1}),a(i,{success:"",class:"ml-2",onClick:t[3]||(t[3]=o=>{e.fetchData(e.fetchPayload),e.toggleFilters(!1)})},{default:l(()=>[r("Buscar")]),_:1})]),"footer-left":l(()=>[a(i,{onClick:t[4]||(t[4]=o=>e.clearDataFilters())},{default:l(()=>[r("Limpiar")]),_:1})]),_:1},8,["modelValue"]),a(c,{title:"Tareas"},{actions:l(()=>[b("div",L,[a(i,{class:"mr-2",icon:"redo",onClick:t[5]||(t[5]=o=>e.fetchData(e.fetchPayload))}),a(m,{label:"Filtros",position:"is-left",type:"is-dark"},{default:l(()=>[a(i,{"show-count":"",icon:"filter",count:e.filterCounter,onClick:t[6]||(t[6]=o=>e.toggleFilters(!0))},null,8,["count"])]),_:1}),a(p,{vertical:"",class:"mx-3"}),a(i,{class:"mr-2",onClick:t[7]||(t[7]=o=>e.$router.push({name:"task-tracker.home"}))},{default:l(()=>[r("Volver")]),_:1}),a(i,{success:"",onClick:t[8]||(t[8]=o=>e.goEdit())},{default:l(()=>[r("Crear")]),_:1})])]),_:1}),b("div",N,[e.filterCounter?(u(),y(g,{key:0,filters:e.filters,"tab-names":e.tabFilterLabels,onDelete:t[9]||(t[9]=o=>e.deleteFilter(o))},null,8,["filters","tab-names"])):h("",!0),a(v,{paginated:!0,"table-data":e.data,columns:e.columns,loading:e.showLoader,"sort-field":"id","total-records":e.totalRecords,"records-per-page":e.recordsPerPage,actions:!0,defaultsortorder:"ASC",actionbuttons:e.actionbuttons,onSort:e.onSort,onEdit:e.goEdit,onView:e.goPreview,onDelete:e.deleteRow,onPageChange:e.onPageChange},null,8,["table-data","columns","loading","total-records","records-per-page","actionbuttons","onSort","onEdit","onView","onDelete","onPageChange"])])])}const G=$(E,[["render",A]]);export{G as default};
