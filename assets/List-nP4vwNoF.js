import{u as C,T,a as w,b as V,c as D,l as _}from"./DataTable-CboVXuwy.js";import{T as k}from"./Button-Bre3B7el.js";import{d as F,T as P,_ as h,r as i,o as u,c as $,a,w as l,b as r,e as b,f as U,g as y}from"./index-C2nEU7Iq.js";import"./DataServiceApi-NXsU4w8H.js";const B=[{field:"id_usuario",label:"Id"},{field:"nombre",label:"Nombre",sortable:!0},{field:"apellido",label:"Apellido",sortable:!0},{field:"numdoc",label:"Documento",sortable:!0},{field:"usuario",label:"Usuario",sortable:!0},{date:!0,field:"fecha_creacion",label:"Fecha creación",sortable:!0},{date:!0,field:"fecha_login",label:"Última sesión",sortable:!0}],E=F({name:"tt-ui-list",setup(){return{dataTable:C()}},data(){return{id_usuario:null,status:[],modules:[],isFetching:!1,idRowProperty:"id_usuario",routeBaseName:"parametric.users",descriptionRowProperty:"id_usuario",fetchPayload:{withParams:!0,url:""},actionbuttons:[{event:"view",label:"Visualizar",disabled:!1},{event:"edit",label:"Editar",disabled:!1},{separator:!0,disabled:!1},{event:"delete",label:"Eliminar",disabled:!1}]}},components:{TtUiDataTable:T,TtUiFiltersTabs:w,TtUiDivider:V,TtUiHeaderBar:P,TtUiButton:k,TtUiDrawer:D},mixins:[_],mounted(){this.updatePaginationData({...this.pagination,sortfield:"id_usuario",page:1}),this.fetchData(this.fetchPayload),this.updateColumnsTable(B)}}),L={class:"is-flex is-align-items-center"},N={class:"p-5 mb-6"};function A(e,t,R,S,I,z){const n=i("b-input"),d=i("b-field"),s=i("tt-ui-button"),f=i("tt-ui-drawer"),m=i("b-tooltip"),p=i("tt-ui-divider"),c=i("tt-ui-header-bar"),g=i("tt-ui-filters-tabs"),v=i("tt-ui-data-table");return u(),$("section",null,[a(f,{size:"small",modelValue:e.showFilters,title:"Filtrar resultados"},{body:l(()=>[a(d,{label:"ID"},{default:l(()=>[a(n,{modelValue:e.filters.id,"onUpdate:modelValue":t[0]||(t[0]=o=>e.updateFiltersAndLabelTab({field:"id",value:o},"ID"))},null,8,["modelValue"])]),_:1}),a(d,{label:"Usuario"},{default:l(()=>[a(n,{modelValue:e.filters.title,"onUpdate:modelValue":t[1]||(t[1]=o=>e.updateFiltersAndLabelTab({field:"title",value:o},"Título"))},null,8,["modelValue"])]),_:1})]),"footer-right":l(()=>[a(s,{onClick:t[2]||(t[2]=o=>e.toggleFilters(!1))},{default:l(()=>[r("Cancelar")]),_:1}),a(s,{success:"",class:"ml-2",onClick:t[3]||(t[3]=o=>{e.fetchData(e.fetchPayload),e.toggleFilters(!1)})},{default:l(()=>[r("Buscar")]),_:1})]),"footer-left":l(()=>[a(s,{onClick:t[4]||(t[4]=o=>e.clearDataFilters())},{default:l(()=>[r("Limpiar")]),_:1})]),_:1},8,["modelValue"]),a(c,{title:"Usuarios"},{actions:l(()=>[b("div",L,[a(s,{class:"mr-2",icon:"redo",onClick:t[5]||(t[5]=o=>e.fetchData(e.fetchPayload))}),a(m,{label:"Filtros",position:"is-left",type:"is-dark"},{default:l(()=>[a(s,{"show-count":"",icon:"filter",count:e.filterCounter,onClick:t[6]||(t[6]=o=>e.toggleFilters(!0))},null,8,["count"])]),_:1}),a(p,{vertical:"",class:"mx-3"}),a(s,{class:"mr-2",onClick:t[7]||(t[7]=o=>e.$router.push({name:"task-tracker.home"}))},{default:l(()=>[r("Volver")]),_:1}),a(s,{success:"",onClick:t[8]||(t[8]=o=>e.goEdit())},{default:l(()=>[r("Crear")]),_:1})])]),_:1}),b("div",N,[e.filterCounter?(u(),U(g,{key:0,filters:e.filters,"tab-names":e.tabFilterLabels,onDelete:t[9]||(t[9]=o=>e.deleteFilter(o))},null,8,["filters","tab-names"])):y("",!0),a(v,{paginated:!0,"table-data":e.data,columns:e.columns,loading:e.showLoader,"sort-field":"id_usuario","total-records":e.totalRecords,"records-per-page":e.recordsPerPage,actions:!0,defaultsortorder:"ASC",actionbuttons:e.actionbuttons,onSort:e.onSort,onEdit:e.goEdit,onView:e.goPreview,onDelete:e.deleteRow,onPageChange:e.onPageChange},null,8,["table-data","columns","loading","total-records","records-per-page","actionbuttons","onSort","onEdit","onView","onDelete","onPageChange"])])])}const G=h(E,[["render",A]]);export{G as default};
